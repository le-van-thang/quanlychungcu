<Window x:Class="WpfApp1.CuDanDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Thông tin cư dân"
        Width="720" Height="440"
        MinWidth="680" MinHeight="420"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        Background="#EEF2F7">

    <!-- Cho phép cuộn nếu nội dung cao hơn cửa sổ -->
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Border CornerRadius="18"
                Margin="20"
                Padding="20"
                Background="White"
                BorderBrush="#D5DBDB"
                BorderThickness="1">
            <Border.Effect>
                <DropShadowEffect BlurRadius="22"
                                  ShadowDepth="3"
                                  Opacity="0.28"/>
            </Border.Effect>

            <Grid Margin="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- Header -->
                    <RowDefinition Height="*"/>
                    <!-- Form -->
                    <RowDefinition Height="Auto"/>
                    <!-- Buttons -->
                </Grid.RowDefinitions>

                <!-- HEADER GRADIENT -->
                <Border Grid.Row="0"
                        CornerRadius="14"
                        Margin="0,0,0,18">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Color="#4CAF50" Offset="0"/>
                            <GradientStop Color="#2196F3" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <StackPanel Orientation="Horizontal" Margin="16,10">
                        <Border Width="36" Height="36"
                                Background="#FFEB3B"
                                CornerRadius="18"
                                Margin="0,0,10,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                            <TextBlock Text="👤"
                                       FontSize="20"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel>
                            <TextBlock x:Name="lblHeader"
                                       Text="Thông tin cư dân"
                                       FontSize="18"
                                       FontWeight="Bold"
                                       Foreground="White"/>
                            <TextBlock Text="Nhập hoặc chỉnh sửa thông tin chi tiết cư dân trong căn hộ"
                                       FontSize="12"
                                       Foreground="#F0F3FF"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- FORM -->
                <Grid Grid.Row="1" Margin="0,0,0,18">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- ID -->
                    <StackPanel Grid.Row="0" Grid.Column="0" Margin="6">
                        <TextBlock Text="ID cư dân"
                                   FontWeight="Bold"/>
                        <TextBox x:Name="txtId"
                                 Margin="0,5,0,0"
                                 Style="{StaticResource InputTextBox}"
                                 IsReadOnly="True"
                                 Text="(Tự sinh)"/>
                    </StackPanel>

                    <!-- Họ tên (bắt buộc) -->
                    <StackPanel Grid.Row="0" Grid.Column="1" Margin="6">
                        <TextBlock>
                            <Run Text="Họ tên"/>
                            <Run Text="  (bắt buộc)" Foreground="#E74C3C"/>
                        </TextBlock>
                        <TextBox x:Name="txtTen"
                                 Margin="0,5,0,0"
                                 Style="{StaticResource InputTextBox}"/>
                    </StackPanel>

                    <!-- Ngày sinh -->
                    <StackPanel Grid.Row="1" Grid.Column="0" Margin="6">
                        <TextBlock Text="Ngày sinh" FontWeight="Bold"/>
                        <DatePicker x:Name="dpNgaySinh"
                                    Margin="0,5,0,0"
                                    Height="32"/>
                    </StackPanel>

                    <!-- Điện thoại -->
                    <StackPanel Grid.Row="1" Grid.Column="1" Margin="6">
                        <TextBlock Text="Điện thoại" FontWeight="Bold"/>
                        <TextBox x:Name="txtDienThoai"
                                 Margin="0,5,0,0"
                                 Style="{StaticResource InputTextBox}"/>
                    </StackPanel>

                    <!-- Email -->
                    <StackPanel Grid.Row="2" Grid.Column="0" Margin="6">
                        <TextBlock Text="Email" FontWeight="Bold"/>
                        <TextBox x:Name="txtEmail"
                                 Margin="0,5,0,0"
                                 Style="{StaticResource InputTextBox}"/>
                    </StackPanel>

                    <!-- Số căn hộ (bắt buộc) -->
                    <StackPanel Grid.Row="2" Grid.Column="1" Margin="6">
                        <TextBlock>
                            <Run Text="Số căn hộ"/>
                            <Run Text="  (bắt buộc)" Foreground="#E74C3C"/>
                        </TextBlock>
                        <ComboBox x:Name="cbCanHo"
                                  Margin="0,5,0,0"
                                  Height="32"
                                  DisplayMemberPath="SoCanHo"
                                  SelectedValuePath="CanHoID"/>
                    </StackPanel>
                </Grid>

                <!-- BUTTONS -->
                <StackPanel Grid.Row="2"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Margin="0,0,0,0">
                    <Button x:Name="btnSave"
                            Content="✔ Lưu"
                            Width="120" Height="36"
                            Margin="0,0,10,0"
                            Style="{StaticResource ModernButton}"
                            Background="#27AE60"
                            Click="BtnSave_Click"/>
                    <Button Content="✖ Hủy"
                            Width="120" Height="36"
                            Style="{StaticResource ModernButton}"
                            Background="#8E44AD"
                            Click="BtnClose_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </ScrollViewer>
</Window>
