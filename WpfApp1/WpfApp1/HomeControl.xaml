<UserControl x:Class="WpfApp1.HomeControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ipack="http://metro.mahapps.com/winfx/xaml/iconpacks"
             xmlns:local="clr-namespace:WpfApp1"
             Background="Transparent">

    <!-- THÊM ScrollViewer -->
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Header -->
                <RowDefinition Height="Auto"/>
                <!-- Cards -->
                <RowDefinition Height="Auto"/>
                <!-- Nhật ký -->
            </Grid.RowDefinitions>

            <!-- Header -->
            <DockPanel Grid.Row="0" Margin="0,0,0,10">
                <TextBlock Text="📊 Trang chủ"
                           FontSize="22"
                           FontWeight="Bold"
                           Foreground="White"
                           DockPanel.Dock="Left"/>
                <TextBlock x:Name="txtWelcome"
                           DockPanel.Dock="Right"
                           HorizontalAlignment="Right"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="White"/>
            </DockPanel>

            <!-- Các card thống kê -->
            <!-- Rows=3 để đủ chỗ cho card Phản ánh -->
            <UniformGrid Grid.Row="1" Columns="3" Rows="3" Margin="20">

                <!-- Căn hộ (xanh lá) -->
                <Border Style="{StaticResource GlassCard}">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.55">
                            <GradientStop Color="#FF2ECC71" Offset="0"/>
                            <GradientStop Color="#FF27AE60" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>

                    <StackPanel HorizontalAlignment="Center">
                        <ipack:PackIconFontAwesome Kind="HouseSolid"
                                                   Width="40" Height="40"
                                                   Foreground="White"
                                                   Margin="0,0,0,6"/>
                        <TextBlock x:Name="txtSoCanHo" Text="0"
                                   Style="{StaticResource CardNumberText}"
                                   Margin="0,0,0,2"/>
                        <TextBlock Text="Căn hộ"
                                   Style="{StaticResource CardTitleText}"
                                   Margin="0,0,0,8"/>
                        <Button x:Name="btnCanHo" Content="Xem danh sách"
                                Background="White" Foreground="#27AE60"
                                FontWeight="Bold" Padding="8,4"
                                Cursor="Hand" Margin="0,10,0,0"
                                Click="BtnCanHo_Click"/>
                    </StackPanel>
                </Border>

                <!-- Cư dân (cam) -->
                <Border Style="{StaticResource GlassCard}">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.55">
                            <GradientStop Color="#FFF39C12" Offset="0"/>
                            <GradientStop Color="#FFE67E22" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>

                    <StackPanel HorizontalAlignment="Center">
                        <ipack:PackIconFontAwesome Kind="UsersSolid"
                                                   Width="40" Height="40"
                                                   Foreground="White"
                                                   Margin="0,0,0,6"/>
                        <TextBlock x:Name="txtSoCuDan" Text="0"
                                   Style="{StaticResource CardNumberText}"
                                   Margin="0,0,0,2"/>
                        <TextBlock Text="Cư dân"
                                   Style="{StaticResource CardTitleText}"
                                   Margin="0,0,0,8"/>
                        <Button x:Name="btnCuDan" Content="Xem danh sách"
                                Background="White" Foreground="#E67E22"
                                FontWeight="Bold" Padding="8,4"
                                Cursor="Hand" Margin="0,10,0,0"
                                Click="BtnCuDan_Click"/>
                    </StackPanel>
                </Border>

                <!-- Ô tô (xanh dương) -->
                <Border Style="{StaticResource GlassCard}">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.55">
                            <GradientStop Color="#FF3498DB" Offset="0"/>
                            <GradientStop Color="#FF2980B9" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>

                    <StackPanel HorizontalAlignment="Center">
                        <ipack:PackIconFontAwesome Kind="CarSideSolid"
                                                   Width="40" Height="40"
                                                   Foreground="White"
                                                   Margin="0,0,0,6"/>
                        <TextBlock x:Name="txtSoOto" Text="0"
                                   Style="{StaticResource CardNumberText}"
                                   Margin="0,0,0,2"/>
                        <TextBlock Text="Ô tô"
                                   Style="{StaticResource CardTitleText}"
                                   Margin="0,0,0,8"/>
                        <Button x:Name="btnOto" Content="Xem danh sách"
                                Background="White" Foreground="#2980B9"
                                FontWeight="Bold" Padding="8,4"
                                Cursor="Hand" Margin="0,10,0,0"
                                Click="BtnOto_Click"/>
                    </StackPanel>
                </Border>

                <!-- Xe máy (tím) -->
                <Border Style="{StaticResource GlassCard}">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.55">
                            <GradientStop Color="#FF9B59B6" Offset="0"/>
                            <GradientStop Color="#FF8E44AD" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>

                    <StackPanel HorizontalAlignment="Center">
                        <ipack:PackIconFontAwesome Kind="MotorcycleSolid"
                                                   Width="40" Height="40"
                                                   Foreground="White"
                                                   Margin="0,0,0,6"/>
                        <TextBlock x:Name="txtSoXeMay" Text="0"
                                   Style="{StaticResource CardNumberText}"
                                   Margin="0,0,0,2"/>
                        <TextBlock Text="Xe máy"
                                   Style="{StaticResource CardTitleText}"
                                   Margin="0,0,0,8"/>
                        <Button x:Name="btnXeMay" Content="Xem danh sách"
                                Background="White" Foreground="#9B59B6"
                                FontWeight="Bold" Padding="8,4"
                                Cursor="Hand" Margin="0,10,0,0"
                                Click="BtnXeMay_Click"/>
                    </StackPanel>
                </Border>

                <!-- Xe đạp (xanh ngọc) -->
                <Border Style="{StaticResource GlassCard}">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.55">
                            <GradientStop Color="#FF1ABC9C" Offset="0"/>
                            <GradientStop Color="#FF16A085" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>

                    <StackPanel HorizontalAlignment="Center">
                        <ipack:PackIconFontAwesome Kind="BicycleSolid"
                                                   Width="40" Height="40"
                                                   Foreground="White"
                                                   Margin="0,0,0,6"/>
                        <TextBlock x:Name="txtSoXeDap" Text="0"
                                   Style="{StaticResource CardNumberText}"
                                   Margin="0,0,0,2"/>
                        <TextBlock Text="Xe đạp"
                                   Style="{StaticResource CardTitleText}"
                                   Margin="0,0,0,8"/>
                        <Button x:Name="btnXeDap" Content="Xem danh sách"
                                Background="White" Foreground="#16A085"
                                FontWeight="Bold" Padding="8,4"
                                Cursor="Hand" Margin="0,10,0,0"
                                Click="BtnXeDap_Click"/>
                    </StackPanel>
                </Border>

                <!-- AI trợ lý (tím hồng) -->
                <Border Style="{StaticResource GlassCard}">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.55">
                            <GradientStop Color="#FFFD79A8" Offset="0"/>
                            <GradientStop Color="#FF8E44AD" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>

                    <StackPanel HorizontalAlignment="Center">
                        <ipack:PackIconFontAwesome Kind="RobotSolid"
                                                   Width="40" Height="40"
                                                   Foreground="White"
                                                   Margin="0,0,0,6"/>
                        <TextBlock Text="AI trợ lý"
                                   Style="{StaticResource CardNumberText}"
                                   Margin="0,0,0,2"/>
                        <TextBlock Text="Hỏi đáp / Tìm kiếm"
                                   Style="{StaticResource CardTitleText}"
                                   Margin="0,0,0,8"/>
                        <Button x:Name="btnAI" Content="Mở AI"
                                Background="White" Foreground="#8E44AD"
                                FontWeight="Bold" Padding="8,4"
                                Cursor="Hand" Margin="0,10,0,0"
                                Click="BtnAI_Click"/>
                    </StackPanel>
                </Border>

                <!-- Phản ánh / yêu cầu cư dân -->
                <Border Style="{StaticResource GlassCard}">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.55">
                            <GradientStop Color="#FFEC7063" Offset="0"/>
                            <GradientStop Color="#FFEB5757" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>

                    <StackPanel HorizontalAlignment="Center">
                        <ipack:PackIconFontAwesome Kind="EnvelopeOpenTextSolid"
                                                   Width="40" Height="40"
                                                   Foreground="White"
                                                   Margin="0,0,0,6"/>
                        <TextBlock Text="Phản ánh"
                                   Style="{StaticResource CardNumberText}"
                                   Margin="0,0,0,2"/>
                        <TextBlock Text="Yêu cầu cư dân"
                                   Style="{StaticResource CardTitleText}"
                                   Margin="0,0,0,8"/>
                        <Button x:Name="btnTicket"
                                Content="Xem / gửi yêu cầu"
                                Background="White"
                                Foreground="#C0392B"
                                FontWeight="Bold"
                                Padding="8,4"
                                Cursor="Hand"
                                Margin="0,10,0,0"
                                Click="BtnTicket_Click"/>
                    </StackPanel>
                </Border>

            </UniformGrid>

            <!-- Nhật ký hoạt động -->
            <Border Grid.Row="2"
                    Margin="24,10,24,24"
                    Style="{StaticResource GlassCard}">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1" Opacity="0.65">
                        <GradientStop Color="#FF111827" Offset="0"/>
                        <GradientStop Color="#FF1F2937" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <StackPanel Margin="16">
                    <!-- Header + nút -->
                    <DockPanel>
                        <StackPanel Orientation="Horizontal"
                                    DockPanel.Dock="Left"
                                    VerticalAlignment="Center">
                            <ipack:PackIconFontAwesome Kind="ClipboardListSolid"
                                                       Width="22" Height="22"
                                                       Foreground="White"
                                                       Margin="0,0,8,0"/>
                            <TextBlock Text="Nhật ký hoạt động gần đây"
                                       FontSize="16"
                                       FontWeight="Bold"
                                       Foreground="White"/>
                        </StackPanel>

                        <Button x:Name="btnViewLog"
                                Content="Xem tất cả"
                                Padding="10,4"
                                Margin="8,0,0,0"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                Background="White"
                                Foreground="#111827"
                                FontWeight="SemiBold"
                                Cursor="Hand"
                                Click="BtnViewLog_Click"
                                DockPanel.Dock="Right"/>
                    </DockPanel>

                    <Separator Margin="0,8,0,10" Opacity="0.4"/>

                    <!-- Bảng nhật ký mini -->
                    <local:ActivityLogControl Height="220"/>
                </StackPanel>
            </Border>

        </Grid>
    </ScrollViewer>
</UserControl>
